{"ast":null,"code":"export default {\n  name: \"Post\",\n  data() {\n    return {\n      post: {\n        id: \"\",\n        title: \"\",\n        body: \"\",\n        date: \"\"\n      }\n    };\n  },\n  methods: {\n    ISO8601ToText(ISOdate) {\n      var chunks = ISOdate.split('-');\n      var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n      return months[parseInt(chunks[1]) - 1] + \" \" + chunks[2] + \", \" + chunks[0];\n    },\n    fetchAPost(id) {\n      // fetch one post with the specied id (id)\n      fetch(`http://localhost:3000/api/posts/${id}`).then(response => response.json()).then(data => this.post = data).catch(err => console.log(err.message));\n    },\n    updatePost() {\n      // using Fetch - put method - updates a specific post based on the passed id and the specified body\n      fetch(`http://localhost:3000/api/posts/${this.post.id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(this.post)\n      }).then(response => {\n        console.log(response.data);\n        //this.$router.push(\"/apost/\" + this.post.id);\n        // We are using the router instance of this element to navigate to a different URL location\n        this.$router.push(\"/\");\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    deletePost() {\n      // using Fetch - delete method - delets a specific post based on the passed id\n      fetch(`http://localhost:3000/api/posts/${this.post.id}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => {\n        console.log(response.data);\n        // We are using the router instance of this element to navigate to a different URL location\n        this.$router.push(\"/\");\n      }).catch(e => {\n        console.log(e);\n      });\n    }\n  },\n  mounted() {\n    // call fetchAPost() when this element mounts, and pass to it a route parameter  (id)\n    // Route parameters (this.$route.params.id) are named URL segments that are used to capture the values specified at their \n    // position in the URL. The captured values are populated in the req.params object, with the name \n    // of the route parameter specified in the path as their respective keys\n    this.fetchAPost(this.$route.params.id);\n  }\n};","map":{"version":3,"names":["name","data","post","id","title","body","date","methods","ISO8601ToText","ISOdate","chunks","split","months","parseInt","fetchAPost","fetch","then","response","json","catch","err","console","log","message","updatePost","method","headers","JSON","stringify","$router","push","e","deletePost","mounted","$route","params"],"sources":["C:\\Users\\Marlene\\AH\\frontend\\src\\components\\OnePost.vue"],"sourcesContent":["<template>\r\n    <div class = \"postComp\">\r\n        <div class = \"post\" v-for = \"post in sortedPosts\" :key=\"id\">\r\n            <h2 v-if = \"post.isPinned\" class=\"pinned\">PINNED:</h2>\r\n            <div class = \"postHeader\">\r\n                <p class=\"date\">{{ post.transformedDate }}</p>\r\n            </div>\r\n            <div class=\"postContent\">\r\n                <router-link :to=\"{name: 'APost', params: {id: post.id}}\">\r\n                  <h1 class = \"title\">{{ post.title }}</h1>\r\n                </router-link>\r\n                <img class=\"postImage\" :src=post.postImage />\r\n                <p>{{ post.body }}</p>\r\n            </div>\r\n            <!--\r\n            <div class = \"postDislikes\">\r\n                <img class = \"dislikesImg\" v-on:click=\"Increase(post.id)\" src=\"../assets/dislike.png\"/>\r\n                <p class = \"postDislikesP\">{{ post.dislikes }}</p>\r\n            </div>\r\n        -->\r\n        </div>\r\n        </div>\r\n\r\n    <div class=\"nupud\">\r\n        <button @click=\"updatePost\" class=\"updatePost\">Update Post</button>\r\n        <button @click=\"deletePost\" class=\"deletePost\">Delete Post</button>\r\n    </div>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\n    export default {\r\n        name: \"Post\",\r\n        data() {\r\n            return {\r\n                post: {\r\n                id: \"\",\r\n                title: \"\",\r\n                body: \"\",\r\n                date: \"\",\r\n            },\r\n            };\r\n        }, \r\n\r\n        methods: {\r\n            ISO8601ToText(ISOdate) {\r\n                var chunks = ISOdate.split('-');\r\n                var months = [\r\n                    'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'\r\n                ];\r\n                return months[parseInt(chunks[1]) - 1] + \" \" + chunks[2] + \", \" + chunks[0];\r\n            },\r\n            fetchAPost(id) {\r\n            // fetch one post with the specied id (id)\r\n                fetch(`http://localhost:3000/api/posts/${id}`)\r\n                    .then((response) => response.json())\r\n                    .then((data) => (this.post = data))\r\n                    .catch((err) => console.log(err.message));\r\n            },\r\n            updatePost() {\r\n            // using Fetch - put method - updates a specific post based on the passed id and the specified body\r\n                fetch(`http://localhost:3000/api/posts/${this.post.id}`, {\r\n                    method: \"PUT\",\r\n                    headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    },\r\n                    body: JSON.stringify(this.post),\r\n            })\r\n                .then((response) => {\r\n                console.log(response.data);\r\n                //this.$router.push(\"/apost/\" + this.post.id);\r\n                // We are using the router instance of this element to navigate to a different URL location\r\n                this.$router.push(\"/\");\r\n                })\r\n                .catch((e) => {\r\n                console.log(e);\r\n                });\r\n            },\r\n            deletePost() {\r\n            // using Fetch - delete method - delets a specific post based on the passed id\r\n                fetch(`http://localhost:3000/api/posts/${this.post.id}`, {\r\n                    method: \"DELETE\",\r\n                    headers: { \"Content-Type\": \"application/json\" },\r\n                })\r\n                    .then((response) => {\r\n                    console.log(response.data);\r\n                    // We are using the router instance of this element to navigate to a different URL location\r\n                    this.$router.push(\"/\");\r\n                    })\r\n                    .catch((e) => {\r\n                    console.log(e);\r\n                    });\r\n            },\r\n        },\r\n        mounted() {\r\n            // call fetchAPost() when this element mounts, and pass to it a route parameter  (id)\r\n            // Route parameters (this.$route.params.id) are named URL segments that are used to capture the values specified at their \r\n            // position in the URL. The captured values are populated in the req.params object, with the name \r\n            // of the route parameter specified in the path as their respective keys\r\n            this.fetchAPost(this.$route.params.id);\r\n        },\r\n        };\r\n</script>\r\n\r\n\r\n<style>\r\n.post {\r\n    margin: 15px auto;\r\n    border-style: dotted;\r\n    border-color: hotpink;\r\n    border-radius: 15px;\r\n    padding: 20px;\r\n}\r\n\r\n.postHeader {\r\n    width: 95%;\r\n    margin: auto;\r\n    padding: 1%;\r\n    display: flex;\r\n    flex-direction: row;\r\n}\r\n.postContent {\r\n    border-radius: 15px;\r\n    background-color: rgb(245, 189, 240);\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.postDislikes{\r\n    display: flex;\r\n    flex-direction: row;\r\n    text-align: left;\r\n    padding: 1%;\r\n}\r\n.title {\r\n    padding-right: 8px;\r\n    font-size: 20px;\r\n}\r\n\r\n.post h1::first-letter {\r\n    font-size: 25px;\r\n    color: rgb(174, 47, 111);\r\n}\r\n\r\n.userIcon {\r\n    float: left;\r\n    height: 50px;\r\n    width: 50px;\r\n    margin: 5px 5px 5px 0;\r\n    padding-right: 2%;   \r\n}\r\n\r\n.userName{\r\n    margin-top: auto;\r\n    margin-bottom: auto;\r\n}\r\n\r\n.postImage {\r\n    align-self: center;\r\n    max-width: 60%;\r\n    object-fit: contain;\r\n    margin: 5px 5px 5px 0;\r\n    padding-right: 2%;   \r\n}\r\n\r\n.pinned {\r\n    float: left;\r\n    color: rgb(174, 47, 111);\r\n}\r\n\r\n.date {\r\n    margin-left: auto;\r\n    padding-left: 4px;\r\n    border-left: 2px solid black;\r\n}\r\n\r\n.dislikesImg{\r\n    height:10%;\r\n    width: 10%;\r\n    display: inline;\r\n}\r\n\r\n.dislikesImg:hover{\r\n    cursor: pointer;\r\n    opacity: 70%;\r\n}\r\n.postDislikesP{\r\n    margin-top: auto;\r\n    margin-bottom: auto;\r\n    display: inline;\r\n}\r\n\r\nbutton {\r\n    width: 10vw;\r\n}\r\n</style>"],"mappings":"AAgCI,eAAe;EACXA,IAAI,EAAE,MAAM;EACZC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,IAAI,EAAE;QACNC,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,EAAE;QACTC,IAAI,EAAE,EAAE;QACRC,IAAI,EAAE;MACV;IACA,CAAC;EACL,CAAC;EAEDC,OAAO,EAAE;IACLC,aAAaA,CAACC,OAAO,EAAE;MACnB,IAAIC,MAAK,GAAID,OAAO,CAACE,KAAK,CAAC,GAAG,CAAC;MAC/B,IAAIC,MAAK,GAAI,CACT,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAI,CACpF;MACD,OAAOA,MAAM,CAACC,QAAQ,CAACH,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,GAAE,GAAIA,MAAM,CAAC,CAAC,IAAI,IAAG,GAAIA,MAAM,CAAC,CAAC,CAAC;IAC/E,CAAC;IACDI,UAAUA,CAACX,EAAE,EAAE;MACf;MACIY,KAAK,CAAE,mCAAkCZ,EAAG,EAAC,EACxCa,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,EAClCF,IAAI,CAAEf,IAAI,IAAM,IAAI,CAACC,IAAG,GAAID,IAAK,EACjCkB,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,OAAO,CAAC,CAAC;IACjD,CAAC;IACDC,UAAUA,CAAA,EAAG;MACb;MACIT,KAAK,CAAE,mCAAkC,IAAI,CAACb,IAAI,CAACC,EAAG,EAAC,EAAE;QACrDsB,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UACT,cAAc,EAAE;QAChB,CAAC;QACDrB,IAAI,EAAEsB,IAAI,CAACC,SAAS,CAAC,IAAI,CAAC1B,IAAI;MACtC,CAAC,EACIc,IAAI,CAAEC,QAAQ,IAAK;QACpBI,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAChB,IAAI,CAAC;QAC1B;QACA;QACA,IAAI,CAAC4B,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;MACtB,CAAC,EACAX,KAAK,CAAEY,CAAC,IAAK;QACdV,OAAO,CAACC,GAAG,CAACS,CAAC,CAAC;MACd,CAAC,CAAC;IACN,CAAC;IACDC,UAAUA,CAAA,EAAG;MACb;MACIjB,KAAK,CAAE,mCAAkC,IAAI,CAACb,IAAI,CAACC,EAAG,EAAC,EAAE;QACrDsB,MAAM,EAAE,QAAQ;QAChBC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB;MAClD,CAAC,EACIV,IAAI,CAAEC,QAAQ,IAAK;QACpBI,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAChB,IAAI,CAAC;QAC1B;QACA,IAAI,CAAC4B,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;MACtB,CAAC,EACAX,KAAK,CAAEY,CAAC,IAAK;QACdV,OAAO,CAACC,GAAG,CAACS,CAAC,CAAC;MACd,CAAC,CAAC;IACV;EACJ,CAAC;EACDE,OAAOA,CAAA,EAAG;IACN;IACA;IACA;IACA;IACA,IAAI,CAACnB,UAAU,CAAC,IAAI,CAACoB,MAAM,CAACC,MAAM,CAAChC,EAAE,CAAC;EAC1C;AACA,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}